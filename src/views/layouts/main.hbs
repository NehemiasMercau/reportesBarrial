<!DOCTYPE html>
<html lang="es-ar">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Barrial Web - Reportes</title>



    <style>
        .bd-placeholder-img {
            font-size: 1.125rem;
            text-anchor: middle;
            -webkit-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .oculto {
            display: none
        }
    </style>

    <!-- CSS Files -->
    <link href="/Content/bootstrap.css" rel="stylesheet" />
    <link href="/assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" rel="stylesheet" />
    <link href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
    <link href="/lib/admin/vendor/fontawesome-free/css/all.min.css" rel="stylesheet" type="text/css">
    <link
        href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i"
        rel="stylesheet">

    <!--     Fonts and icons     -->
    <link rel="stylesheet" type="text/css"
        href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:400,700|Material+Icons" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css">

    <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/css/select2.min.css" rel="stylesheet" />
    <link href="/lib/clockpicker/clockpicker.css" rel="stylesheet" />

    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css" />

    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
    <link href="/lib/cssbuttons/buttons.css" rel="stylesheet" />
    <link href="/lib/cssbuttons/style.css" rel="stylesheet" />


    <link href="/lib/custom/preloader.css" rel="stylesheet" />

    <link href="/assets/css/material-dashboard.css?v=2.1.2" rel="stylesheet" />



    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
    <script src="/Scripts/jquery.unobtrusive-ajax.js"></script>

    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.min.js"></script>
   {{!--  <script src="https://code.jquery.com/jquery-migrate-3.0.0.js"></script> --}}

    <script src="/Scripts/bootstrap.js"></script>

    <!-- Bootstrap core JavaScript-->
    <script src="/lib/admin/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>
    <script src="https://cdn.datatables.net/responsive/2.2.6/js/dataTables.responsive.min.js"></script>

    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script src="https://cdn.datatables.net/select/1.3.1/js/dataTables.select.min.js"></script>
    <script src="https://cdn.datatables.net/colreorder/1.5.3/js/dataTables.colReorder.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/dataTables.buttons.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.html5.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/1.6.5/js/buttons.print.min.js"></script>


    <script src="/lib/clockpicker/clockpicker.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-beta.1/dist/js/select2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>


    <script src="/assets/js/plugins/moment.min.js"></script>

    <script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>






    {{!--
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="/css/main.scss"> --}}


</head>

<body>
    <div class="wrapper">
        {{>navigation}}
        <div class="main-panel">
            <!-- Navbar -->
            <nav class="navbar navbar-expand-lg navbar-transparent navbar-absolute fixed-top ">
                <div class="container-fluid">
                    <div class="navbar-wrapper">
                        <a class="navbar-brand" href="/">Ir al Panel de Control</a>
                    </div>
                    <button class="navbar-toggler" type="button" data-toggle="collapse" aria-controls="navigation-index"
                        aria-expanded="false" aria-label="Toggle navigation">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                        <span class="navbar-toggler-icon icon-bar"></span>
                    </button>
                </div>

                <ul class="navbar-nav ml-auto">
                    <a class="navbar-brand" href="/users/logout">Cerrar Sesión</a>
                    {{!-- Aca va el login partial --}}
                </ul>

            </nav>
            <div class="content">
                <div class="container-fluid">
                    {{>messages}}
                    {{>errors}}
                    {{{ body }}}
                </div>
            </div>
        </div>
    </div>


    <script type="text/javascript">
        $(document).ready(function () {
            console.log('arranco');
            $('.js-example-basic-single').select2();

            $('.datatable').each(function (index, element) {

                if (!$.fn.DataTable.isDataTable(this)) {
                    // obtiene los atributos principales

                    var titulo = $(element).attr("data-titulo");
                    var descripcion = $(element).attr("data-descripcion");
                    var excel = $(element).attr("data-excel");
                    var pdf = $(element).attr("data-pdf");
                    var imprimir = $(element).attr("data-imprimir");

                    // prepara los json de los botones

                    var pdfJson = {
                        extend: 'pdf',
                        text: '<i class="fa fa-file-pdf-o"></i>',
                        title: titulo,
                        message: descripcion,
                        className: 'btn btn-danger',
                        exportOptions: {
                            columns: [':visible:not(:last-child)'],
                        }
                    };

                    var excelJson = {
                        extend: 'excel',
                        text: '<i class="fa fa-file-excel-o"></i>',
                        title: titulo,
                        message: descripcion,
                        className: 'btn btn-success',
                        exportOptions: {
                            columns: [':visible:not(:last-child)'],
                        }
                    };

                    var imprimirJson = {
                        extend: 'print',
                        text: '<i class="fa fa-print"></i>',
                        className: 'btn btn-primary',
                        title: titulo,
                        message: descripcion,
                        exportOptions: {
                            columns: [':visible:not(:last-child)'],
                        }
                    };


                    var botones = [];

                    if (excel == "true")
                        botones.push(excelJson);
                    if (pdf == "true")
                        botones.push(pdfJson);
                    if (imprimir == "true")
                        botones.push(imprimirJson);

                    $(element).prepend($("<thead></thead>").append($(this).find("tr:first")));

                    $(element).DataTable({
                        dom: 'B<"clear">lfrtip',
                        buttons: botones,
                        responsive: {
                            details: {
                                type: 'column',
                                target: 'tr'
                            }
                        },
                        //order: [0, 'asc'],
                        "paging": true,
                        "lengthChange": true,
                        "searching": true,
                        "autoWidth": false,
                        "pageLength": 15,
                        "scrollX": true,
                        "language": {
                            "sProcessing": "Procesando...",
                            "sLengthMenu": "Mostrar _MENU_ registros",
                            "sZeroRecords": "No se encontraron resultados",
                            "sEmptyTable": "Ningún dato disponible en esta tabla",
                            "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                            "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                            "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix": "",
                            "sSearch": "Buscar:",
                            "sUrl": "",
                            "sInfoThousands": ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst": "Primero",
                                "sLast": "Último",
                                "sNext": "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            },
                            "buttons": {
                                "copy": "Copiar",
                                "colvis": "Visibilidad"
                            }
                        }
                    });
                }

            });

            $('.datatableEmpty').each(function (index, element) {

                if (!$.fn.DataTable.isDataTable(this)) {
                    // obtiene los atributos principales

                    var titulo = $(element).attr("data-titulo");
                    var descripcion = $(element).attr("data-descripcion");
                    var excel = $(element).attr("data-excel");
                    var pdf = $(element).attr("data-pdf");
                    var imprimir = $(element).attr("data-imprimir");

                    
                    $(element).prepend($("<thead></thead>").append($(this).find("tr:first")));
                    $(element).DataTable({
                        "paging": false,
                        "lengthChange": true,
                        "searching": true,
                        "ordering": false,
                        "autoWidth": false,
                        "scrollX": true,
                        language: {
                            "sProcessing": "Procesando...",
                            "sLengthMenu": "Mostrar _MENU_ registros",
                            "sZeroRecords": "No se encontraron resultados",
                            "sEmptyTable": "Ningún dato disponible en esta tabla",
                            "sInfo": "",
                            "sInfoEmpty": "",
                            "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                            "sInfoPostFix": "",
                            "sSearch": "Buscar:",
                            "sUrl": "",
                            "sInfoThousands": ",",
                            "sLoadingRecords": "Cargando...",
                            "oPaginate": {
                                "sFirst": "Primero",
                                "sLast": "Último",
                                "sNext": "Siguiente",
                                "sPrevious": "Anterior"
                            },
                            "oAria": {
                                "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                            },
                            "buttons": {
                                "copy": "Copiar",
                                "colvis": "Visibilidad"
                            }
                        }
                    });
                }

            });

        });
    </script>

</body>

</html>